(this["webpackJsonpnewredux-app"]=this["webpackJsonpnewredux-app"]||[]).push([[0],{89:function(e,t,r){"use strict";r.r(t);var c=r(21),n=r.n(c),a=r(24),i=r(25),s=r(12),o=r(7),l=r(0),d=r(97),j=r(65),b=Object(j.createApi)({reducerPath:"projectAPI",baseQuery:Object(j.fetchBaseQuery)({baseUrl:"http://localhost:5000/"}),tagTypes:["Project"],endpoints:function(e){return{fetchAllProjects:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return{url:"/projects",params:{_limit:e}}},providesTags:function(e){return["Project"]}}),fetchProjectById:e.query({query:function(e){return{url:"/projects/".concat(e),method:"GET"}},providesTags:function(e){return["Project"]}}),fetchProjectByNameSearch:e.query({query:function(e){return{url:"/projects?q=".concat(e),method:"GET"}},providesTags:function(e){return["Project"]}}),createProject:e.mutation({query:function(e){return{url:"/projects",method:"POST",body:e}},invalidatesTags:["Project"]}),updateProject:e.mutation({query:function(e){return{url:"/projects/".concat(e.id),method:"PUT",body:e}},invalidatesTags:["Project"]}),deleteProject:e.mutation({query:function(e){return{url:"/projects/".concat(e.id),method:"DELETE"}},invalidatesTags:["Project"]})}}}),u=r(1),h=function(e){var t=e.project;return Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{children:Object(u.jsxs)(d.a.Body,{children:[Object(u.jsx)("img",{className:"ml-3",src:t.imageUrl,width:"96px",alt:"Generic placeholder image"}),Object(u.jsxs)(d.a.Title,{children:[t.id,". ",t.title]}),Object(u.jsx)(d.a.Text,{children:t.body.replace(/(.{58})..+/,"$1...")}),Object(u.jsx)(i.b,{to:"/card/".concat(t.id),role:"button",children:"More to"})]})}),Object(u.jsx)("div",{className:"media"})]})},x=function(){var e=Object(l.useState)(15),t=Object(o.a)(e,2),r=t[0],c=(t[1],b.useFetchAllProjectsQuery(r)),n=c.data,a=c.error,i=c.isLoading;return Object(u.jsx)("div",{children:Object(u.jsxs)(d.a,{border:"success",style:{width:"18rem"},children:[Object(u.jsx)(d.a.Header,{style:{color:"green"},as:"h6",children:"Active"}),Object(u.jsxs)("div",{style:{height:"42em",overflow:"auto"},children:[i&&Object(u.jsx)("h1",{children:"Loading..."}),a&&Object(u.jsx)("h1",{children:"Error download..."}),n&&n.filter((function(e){return"active"===e.status})).map((function(e){return Object(u.jsx)(h,{project:e},e.id)}))]})]})})},O=function(){var e=Object(l.useState)(10),t=Object(o.a)(e,2),r=t[0],c=(t[1],b.useFetchAllProjectsQuery(r)),n=c.data,a=c.error,i=c.isLoading;return Object(u.jsx)("div",{children:Object(u.jsxs)(d.a,{border:"warning",style:{width:"18rem"},children:[Object(u.jsx)(d.a.Header,{style:{color:"#FFB700"},as:"h6",children:"Process"}),Object(u.jsxs)("div",{style:{height:"42em",overflow:"auto"},children:[i&&Object(u.jsx)("h1",{children:"Loading..."}),a&&Object(u.jsx)("h1",{children:"Error download..."}),n&&n.filter((function(e){return"process"==e.status})).map((function(e){return Object(u.jsx)(h,{project:e},e.id)}))]})]})})},m=function(){var e=b.useFetchAllProjectsQuery(10),t=e.data,r=e.error,c=e.isLoading;return Object(u.jsx)("div",{children:Object(u.jsxs)(d.a,{border:"info",style:{width:"18rem"},children:[Object(u.jsx)(d.a.Header,{style:{color:"#03C5EE"},as:"h6",children:"Finish"}),Object(u.jsxs)("div",{style:{height:"42em",overflow:"auto"},children:[c&&Object(u.jsx)("h1",{children:"Loading..."}),r&&Object(u.jsx)("h1",{children:"Error download..."}),t&&t.filter((function(e){return"finish"==e.status})).map((function(e){return Object(u.jsx)(h,{project:e},e.id)}))]})]})})},p=function(){return Object(u.jsx)("div",{style:{display:"flex"},children:Object(u.jsxs)("span",{style:{display:"flex",margin:"70px 50px 30px 14.5em",padding:"right:30px"},children:[Object(u.jsx)("span",{style:{margin:"0 2%"},children:Object(u.jsx)(x,{})}),Object(u.jsx)("span",{style:{margin:"0 2%"},children:Object(u.jsx)(O,{})}),Object(u.jsx)("span",{style:{margin:"0 2%"},children:Object(u.jsx)(m,{})})]})})},f=r(2),g=r(91),y=a.useSelector,v=function(e){var t=e.project,r=e.update,c=e.remove;y((function(e){return e.counterReducer.value})),Object(a.useDispatch)();return Object(u.jsx)("div",{children:Object(u.jsxs)(d.a,{style:{width:"70%"},children:[Object(u.jsx)(i.b,{"aria-label":"Close",className:"position-absolute top-0 end-0",to:"/",style:{color:"black",margin:"0.5em 0.5em 0.5em ",cursor:"pointer",width:"3%",background:"white",borderRadius:"5px"},children:Object(u.jsx)("i",{className:"bi bi-x-lg",style:{margin:"0.2em 0.2em 0.5em "}})}),Object(u.jsx)(d.a.Img,{variant:"top",src:t.imageUrl}),Object(u.jsxs)(d.a.Body,{children:[Object(u.jsxs)(d.a.Title,{children:[" ",t.id,". ",t.title]}),Object(u.jsx)(d.a.Text,{children:t.body}),Object(u.jsx)(g.a,{variant:"primary",className:"me-2",onClick:function(e){var c=prompt();c&&""!==c&&r(Object(f.a)(Object(f.a)({},t),{},{title:c}))},children:"Edit"}),Object(u.jsx)(g.a,{variant:"primary",onClick:function(e){e.stopPropagation(),window.confirm("Really delete this project?")&&(c(t),window.location.href="/")},children:"Delete"})]})]})})},w=function(){var e=b.useUpdateProjectMutation(),t=Object(o.a)(e,2),r=t[0],c=t[1],n=c.error,a=c.isLoading,i=b.useDeleteProjectMutation(),l=Object(o.a)(i,2),d=l[0],j=l[1],h=j.error,x=j.isLoading,O=Object(s.f)().id,m=b.useFetchProjectByIdQuery(O),p=m.data,f=m.error,g=m.isLoading;console.log(p);console.log("id",O);return Object(u.jsxs)("div",{style:{margin:"5% 2% 30% 20%"},children:[f&&Object(u.jsx)("h1",{children:"Error find..."}),g&&Object(u.jsx)("h1",{children:"Loading find by id project..."}),h&&Object(u.jsx)("h1",{children:"Error delete..."}),x&&Object(u.jsx)("h1",{children:"Loading Delete project..."}),n&&Object(u.jsx)("h1",{children:"Error update..."}),a&&Object(u.jsx)("h1",{children:"Loading update project..."}),p?Object(u.jsx)(v,{project:p,update:function(e){r(e)},remove:function(e){d(e)}}):Object(u.jsx)("h1",{children:'"Can not fetch details"'})]})},k=r(67),N=r.n(k),P=r(71),C=r(95),S=r(92),L=r(93),T=r(96),E=function(e){var t=e.title,r=e.nameButton,c=e.children,n=e.onHandleSubmit,a=e.disabled,i=Object(l.useState)(!1),s=Object(o.a)(i,2),d=s[0],j=s[1],b=function(){return j(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(g.a,{variant:"outline-success",className:"me-2",onClick:function(){return j(!0)},children:t}),Object(u.jsxs)(T.a,{show:d,onHide:b,children:[Object(u.jsx)(T.a.Header,{closeButton:!0,children:Object(u.jsx)(T.a.Title,{children:t})}),Object(u.jsx)(T.a.Body,{children:c}),Object(u.jsxs)(T.a.Footer,{children:[Object(u.jsx)(g.a,{variant:"secondary",onClick:b,children:"Close"}),Object(u.jsx)(g.a,{variant:"primary",disabled:a,onClick:function(){n(),j(!1)},children:r})]})]})]})},I=r(94),B=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),r=t[0],c=t[1],n=Object(l.useState)(""),a=Object(o.a)(n,2),s=a[0],j=a[1],h=b.useFetchAllProjectsQuery(15),x=h.data,O=(h.error,h.isLoading,function(){c([]),j("")});return Object(u.jsxs)("div",{children:[Object(u.jsxs)(I.a,{className:"d-flex",style:{display:"flex",paddingLeft:"10px",justifyContent:"center",alignItems:"center",margin:"auto",backgroundColor:"white",borderRadius:"5px",border:"1px solid green"},children:[Object(u.jsx)("input",{type:"text",style:{width:"100%",background:"none",border:"0",padding:"0",outline:"none"},placeholder:"Search","aria-label":"Search",onChange:function(e){var t=e.target.value;if(j(t),""===t)c([]);else{var r=x&&x.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));c(r)}},value:s}),Object(u.jsx)(g.a,{variant:"secondary",style:{backgroundColor:"white",color:"green",textTransform:"uppercase",borderStyle:"none",borderRadius:"5px",cursor:"pointer",outline:"none"},type:"button",onClick:O,children:0===s.length?Object(u.jsx)("i",{className:"bi bi-search"}):Object(u.jsx)("i",{className:"bi bi-x-lg"})})]}),0!=r.length&&Object(u.jsx)(d.a,{className:"results",style:{width:"12.1em",overflow:"auto",position:"absolute"},children:r.map((function(e){return Object(u.jsx)(i.b,{to:"/card/".concat(e.id),onClick:O,style:{textDecoration:"none"},children:e.title})}))})]})},F={imageUrl:"",title:"",body:""},q=function(){var e,t=b.useCreateProjectMutation(),r=Object(o.a)(t,2),c=r[0],n=r[1],a=n.error,s=n.isLoading,d=Object(l.useState)(F),j=Object(o.a)(d,2),h=j[0],x=j[1],O=Object(l.useState)({title:!1}),m=Object(o.a)(O,2),p=m[0],y=m[1],v={title:[{isInvalid:""===h.title,message:"Title can not be empty"},{isInvalid:""!==h.title&&(null===(e=h.title)||void 0===e?void 0:e.length)<3,message:"Title is too short"}],body:[{isInvalid:""===h.body,message:"Body can not be empty"}]},w=function(e){var t=v[e];return{isInvalid:t.map((function(e){return e.isInvalid})).some((function(e){return e})),messages:t.filter((function(e){return e.isInvalid})).map((function(e){return e.message}))}},k=function(){return!w("title").isInvalid&&!w("body").isInvalid},T=function(){var e=Object(P.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.title,r=h.body,k()){e.next=6;break}e.next=9;break;case 6:return e.next=8,c({title:t,imageUrl:"https://source.unsplash.com/1600x900/?project-art",body:r,status:"active"});case 8:x(F);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(C.a,{bg:"light",expand:"lg",fixed:"top",children:Object(u.jsxs)(S.a,{fluid:!0,children:[Object(u.jsx)(i.b,{to:"/",role:"button",style:{textDecoration:"none",color:"black"},children:"Logo"}),Object(u.jsx)(C.a.Toggle,{"aria-controls":"navbarScroll"}),Object(u.jsxs)(C.a.Collapse,{id:"navbarScroll",children:[Object(u.jsx)(L.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(u.jsx)(B,{}),Object(u.jsx)(L.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(u.jsx)(E,{title:"Create Project",nameButton:"Save",onHandleSubmit:T,disabled:!k(),children:Object(u.jsxs)("form",{className:"row g-3",action:"create-form",children:[Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"form-outline",children:[Object(u.jsx)("label",{htmlFor:"validationDefault01",className:"form-label",children:"Title"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"title",value:h.title||"",onChange:function(e){x(Object(f.a)(Object(f.a)({},h),{},{title:e.target.value})),y(Object(f.a)(Object(f.a)({},p),{},{title:!0}))}})]})}),Object(u.jsx)("div",{style:{backgroundColor:"gold"},children:p.title&&w("title").messages}),Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"form-outline",children:[Object(u.jsx)("label",{htmlFor:"validationDefault01",className:"form-label",children:"Body"}),Object(u.jsx)("textarea",{className:"form-control",placeholder:"body",value:h.body||"",onChange:function(e){x(Object(f.a)(Object(f.a)({},h),{},{body:e.target.value})),y(Object(f.a)(Object(f.a)({},p),{},{body:!0}))}})]})}),Object(u.jsx)("div",{style:{backgroundColor:"gold"},children:p.body&&w("body").messages})]})}),s&&Object(u.jsx)("h1",{children:"Loading create project..."}),a&&Object(u.jsx)("h1",{children:"Error creative..."}),Object(u.jsx)(g.a,{variant:"success",children:"Log In"})]})]})})},D=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("footer",{className:"text-center text-white",style:{backgroundColor:"#F8F8F8"},children:[Object(u.jsx)("div",{className:"container pt-4",children:Object(u.jsxs)("section",{className:"mb-4",children:[Object(u.jsxs)("a",{className:"btn btn-link btn-floating btn-lg text-dark m-1",href:"https://www.linkedin.com/in/yarema-ostrovskiy/",role:"button","data-mdb-ripple-color":"dark",children:[Object(u.jsx)("i",{className:"fab fa-linkedin"}),Object(u.jsx)("i",{className:"bi bi-linkedin"})]}),Object(u.jsx)("a",{className:"btn btn-link btn-floating btn-lg text-dark m-1",href:"https://github.com/Yarema91/New_redux_product_app",role:"button","data-mdb-ripple-color":"dark",children:Object(u.jsx)("i",{className:"bi bi-github"})})]})}),Object(u.jsx)("div",{className:"text-center text-dark p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:"\xa9 2021 Copyright:"})]})})},H=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(q,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{exact:!0,path:"/",component:p}),Object(u.jsx)(s.a,{path:"/card/:id",component:w})]}),Object(u.jsx)(D,{})]})},A=r(8),U=r(18),Q=r(5),R=Object(Q.createSlice)({name:"User",initialState:{projects:[],isLoading:!1,error:""},reducers:{projects:function(e){console.log("projects.state")}}}).reducer,M=Object(Q.createSlice)({name:"counter",initialState:{value:0},reducers:{increase:function(e){e.value+=1},decrease:function(e){e.value-=1}}}),_=M.actions,G=(_.increase,_.decrease,M.reducer),J=Object(U.d)(Object(A.a)({productReducer:R,counterReducer:G},b.reducerPath,b.reducer)),Y=(r(88),Object(Q.configureStore)({reducer:J,middleware:function(e){return e().concat(b.middleware)}})),$=document.getElementById("root");n.a.render(Object(u.jsx)(a.Provider,{store:Y,children:Object(u.jsx)(H,{})}),$)}},[[89,1,2]]]);
//# sourceMappingURL=main.c5691f71.chunk.js.map